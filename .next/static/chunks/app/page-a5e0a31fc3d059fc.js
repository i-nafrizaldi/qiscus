(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1701:function(e,s,a){Promise.resolve().then(a.bind(a,839))},839:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return b}});var l,r,t=a(7437);(l=r||(r={})).text="text",l.video="video",l.pdf="pdf",l.image="image";var i=a(6648),n=a(2265),c=a(8484),d=a(4839),o=a(6164);function m(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return(0,o.m6)((0,d.W)(s))}let x=n.forwardRef((e,s)=>{let{className:a,orientation:l="horizontal",decorative:r=!0,...i}=e;return(0,t.jsx)(c.f,{ref:s,decorative:r,orientation:l,className:m("shrink-0 bg-border","horizontal"===l?"h-[1px] w-full":"h-full w-[1px]",a),...i})});x.displayName=c.f.displayName;var h=a(1511);let f=n.forwardRef((e,s)=>{let{className:a,children:l,...r}=e;return(0,t.jsxs)(h.fC,{ref:s,className:m("relative overflow-hidden",a),...r,children:[(0,t.jsx)(h.l_,{className:"h-full w-full rounded-[inherit]",children:l}),(0,t.jsx)(u,{}),(0,t.jsx)(h.Ns,{})]})});f.displayName=h.fC.displayName;let u=n.forwardRef((e,s)=>{let{className:a,orientation:l="vertical",...r}=e;return(0,t.jsx)(h.gb,{ref:s,orientation:l,className:m("flex touch-none select-none transition-colors","vertical"===l&&"h-full w-2.5 border-l border-l-transparent p-[1px]","horizontal"===l&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",a),...r,children:(0,t.jsx)(h.q4,{className:"relative flex-1 rounded-full bg-border"})})});u.displayName=h.gb.displayName;var p=e=>{let{chats:s}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsx)("div",{className:"col-span-3",children:s.map((e,s)=>{var a;return(0,t.jsxs)("div",{className:"mb-6 shadow-lg bg-white",children:[(0,t.jsx)("div",{className:"flex flex-row items-center gap-4 bg-slate-200 p-6 sticky top-0 z-50",children:e.room.participant.find(e=>2===e.role)&&(0,t.jsx)("p",{className:"text-xl font-extrabold mx-auto md:mx-0 text-basicBlue",children:null===(a=e.room.participant.find(e=>2===e.role))||void 0===a?void 0:a.name})}),(0,t.jsxs)(f,{className:"p-4 h-[760px]",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-3 p-3",children:[(0,t.jsx)(i.default,{className:"mx-auto",alt:"Room image",src:e.room.image_url,width:80,height:80}),(0,t.jsx)("h2",{className:"text-xl text-center font-bold",children:e.room.name})]}),(0,t.jsx)(x,{}),e.comments.map(e=>(0,t.jsx)("div",{className:"flex items-start gap-4 my-5 ".concat("customer@mail.com"===e.sender?"justify-start":"justify-end"),children:(0,t.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,t.jsx)("label",{className:"flex items-start text-sm text-gray-600 font-bold ".concat("customer@mail.com"===e.sender?"justify-start":"justify-end"),children:e.participant.name}),(0,t.jsx)("div",{className:"p-3 rounded-lg ".concat("customer@mail.com"===e.sender?"bg-blue-500 text-white":"bg-gray-200 text-black"),children:e.type==r.text?(0,t.jsx)("p",{children:e.message}):e.type==r.video?(0,t.jsx)("iframe",{className:"w-full h-64",src:e.message,frameBorder:"0",allowFullScreen:!0}):e.type==r.pdf?(0,t.jsxs)("iframe",{className:"w-full h-80",src:e.message,title:"PDF Viewer",children:["Browser tidak mendukung tampilan PDF. Unduh di sini"," ",(0,t.jsx)("a",{href:e.message,children:"Download PDF"}),"."]}):e.type==r.image?(0,t.jsx)(i.default,{src:e.message,alt:"Image message",width:320,height:200,className:"rounded-md"}):(0,t.jsx)("p",{children:"Unknown message type"})})]})},e.id))]})]},s)})})})},g=()=>(0,t.jsx)("div",{children:"Loading"}),j=e=>{let{chats:s}=e;return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"shadow-lg h-screen bg-slate-100 md:block hidden",children:[(0,t.jsx)("div",{className:"flex flex-row items-center gap-4 bg-slate-200 z-50 p-6 sticky top-0",children:(0,t.jsx)("p",{className:"text-xl font-extrabold text-basicBlue",children:"Chat"})}),(0,t.jsx)("div",{className:"p-4 h-screen",children:(0,t.jsx)("div",{className:"flex flex-col gap-2",children:s.map((e,s)=>{var a;return(0,t.jsxs)("div",{className:"flex flex-col hover:bg-basicBlue hover:text-white p-1 rounded-lg hover:cursor-pointer border border-basicBlue text-basicBlue",children:[e.room.participant.find(e=>2===e.role)&&(0,t.jsx)("p",{className:"font-bold text-lg",children:null===(a=e.room.participant.find(e=>2===e.role))||void 0===a?void 0:a.name}),(0,t.jsx)("p",{className:"text-sm",children:e.room.name})]},s)})})})]})})},v=a(8472);let N=async()=>{try{return(await v.Z.get("http://localhost:2000/results")).data}catch(e){console.log(e)}};var b=()=>{let[e,s]=(0,n.useState)(),[a,l]=(0,n.useState)(null);return((0,n.useEffect)(()=>{(async()=>{try{let e=await N();s(e)}catch(e){l(e.message)}})()},[]),a)?(0,t.jsxs)("div",{className:"text-red-500",children:["Error: ",a]}):e?(0,t.jsx)("div",{className:"md:container mx-auto h-screen py-3",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,t.jsx)(j,{chats:e}),(0,t.jsx)(p,{chats:e})]})}):(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(g,{})})}}},function(e){e.O(0,[912,971,23,744],function(){return e(e.s=1701)}),_N_E=e.O()}]);